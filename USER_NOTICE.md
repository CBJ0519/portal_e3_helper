# ⚠️ 重要通知：自動檢測功能暫時無法使用

## 📢 狀況說明

自動檢測作業繳交狀態的功能目前**暫時無法使用**。

**原因**: NYCU E3 系統管理員停用了 `mod_assign_get_submission_status` Web Service API。

這**不是擴充功能的 bug**，而是 E3 系統的配置變更。

---

## ✅ 仍然正常運作的功能

所有其他功能都**完全正常**：

- ✅ 作業列表同步
- ✅ 課程列表同步
- ✅ **手動標記作業為「已繳交」**
- ✅ 公告和信件整合
- ✅ AI 智能翻譯與摘要
- ✅ 成績查詢
- ✅ 教材下載
- ✅ 作業倒數計時
- ✅ 智能通知徽章
- ✅ 已繳交作業保留（不會消失）

---

## 💡 目前的解決方案

### 手動標記作業

繳交作業後，請手動點擊「已繳交」按鈕：

1. **在作業列表中**:
   - 找到已繳交的作業
   - 點擊作業卡片上的「已繳交」按鈕
   - 作業狀態會變為綠色「✓ 已繳交」

2. **或在 E3 網站上**:
   - content script 會檢測繳交成功訊息
   - 自動觸發同步（但需手動標記）

**重要**: 標記為「已繳交」的作業即使過期也會保留在列表中。

---

## 🔮 未來計劃

我們正在探索以下解決方案：

### 方案 1: 等待 API 重新啟用
- 定期測試 API 是否恢復
- 向 NYCU 計中反映問題

### 方案 2: HTML 解析替代方案（正在評估）
- 直接訪問作業頁面解析繳交狀態
- 效能較差但可行
- 預計開發時間：2-4 小時

### 方案 3: 優化手動標記體驗
- 繳交後自動提醒標記
- 批次標記功能
- 一鍵標記所有已逾期作業

---

## 🆘 需要幫助？

### 如果遇到問題

1. **作業消失了？**
   - 確認是否已手動標記為「已繳交」
   - 未標記的已繳交作業在過期後會被移除

2. **想要恢復自動檢測？**
   - 目前只能等待 E3 重新啟用 API
   - 或等待我們實施 HTML 解析方案

3. **其他功能異常？**
   - 請在 GitHub 提交 Issue: https://github.com/CBJ0519/portal_e3_helper/issues
   - 或查看 FINAL_SUMMARY.md 了解技術細節

---

## 📊 檢查日誌

如果想確認狀況，可以查看 Service Worker Console：

1. 開啟 `chrome://extensions/`
2. 找到「NYCU E3 Helper」
3. 點擊「Service Worker」連結
4. 執行一次同步
5. 查找以下警告訊息：

```
⚠️ mod_assign_get_submission_status API 不可用
錯誤訊息: 網路服務無法使用(它不存在或者已經停用)
錯誤代碼: servicenotavailable
自動檢測繳交狀態功能無法使用，將跳過所有作業
```

這表示錯誤處理正常運作，擴充功能不會重複嘗試失敗的 API。

---

## 📝 版本資訊

- **當前版本**: 1.7
- **問題識別**: 2025-11-25
- **錯誤處理修復**: commit 9fc43e6
- **診斷日誌**: commit 2dda941, 4a797ec

---

## 🙏 感謝您的理解

雖然自動檢測功能暫時無法使用，但擴充功能的核心功能都正常運作。

手動標記作業只需要點擊一次按鈕，仍然比沒有擴充功能方便很多！

我們會持續監控 API 狀態，一旦恢復就會立即重新啟用自動檢測功能。

---

**上次更新**: 2025-11-25
**文件版本**: 1.0
**詳細技術說明**: 請參閱 FINAL_SUMMARY.md
